name: Build and Test (.NET Framework 4.6.1)
on: [push]
jobs:
  Test:
    runs-on: windows-latest
    steps:
      - name: Check out repository
        uses: actions/checkout@v2
        with:
          submodules: 'recursive'
      - name: Run the Core tests
        run: dotnet test %GITHUB_WORKSPACE%\tests\Medidata.MAuth.CoreTests\Medidata.MAuth.CoreTests.csproj --framework net461
      - name: Run the OWIN tests
        run: dotnet test %GITHUB_WORKSPACE%\tests\Medidata.MAuth.OwinTests\Medidata.MAuth.OwinTests.csproj --framework net461
      - name: Run the WebAPI tests
        run: dotnet test %GITHUB_WORKSPACE%\tests\Medidata.MAuth.WebApiTests\Medidata.MAuth.WebApiTests.csproj --framework net461

